(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1949:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>F});var t=a(5155),i=a(2115),l=a(8482),r=a(7168),n=a(9852),c=a(9474),d=a(8145),o=a(64),x=a(3999);let m=o.bL,h=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(o.B8,{ref:s,className:(0,x.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});h.displayName=o.B8.displayName;let u=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(o.l9,{ref:s,className:(0,x.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});u.displayName=o.l9.displayName;let j=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(o.UC,{ref:s,className:(0,x.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});j.displayName=o.UC.displayName;var p=a(9840),f=a(2714),g=a(4416),v=a(9869),N=a(7213),y=a(6766);function b(e){let{value:s,onChange:a,label:l,placeholder:c}=e,[d,o]=(0,i.useState)(!1),[x,m]=(0,i.useState)(!1),h=(0,i.useRef)(null),u=async e=>{if(!e.type.startsWith("image/")){alert("Можно загружать только изображения");return}if(e.size>5242880){alert("Размер файла не должен превышать 5MB");return}o(!0);try{let s=new FormData;s.append("file",e);let t=await fetch("/api/admin/upload",{method:"POST",body:s}),i=await t.json();t.ok?a(i.path):alert(i.error||"Ошибка загрузки файла")}catch(e){console.error("Ошибка загрузки:",e),alert("Ошибка загрузки файла")}finally{o(!1)}},j=()=>{var e;null===(e=h.current)||void 0===e||e.click()};return(0,t.jsxs)("div",{className:"space-y-2",children:[l&&(0,t.jsx)(f.J,{children:l}),s?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"relative w-full h-48 border rounded-lg overflow-hidden",children:[(0,t.jsx)(y.default,{src:s,alt:"Загруженное изображение",fill:!0,className:"object-cover"}),(0,t.jsx)(r.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{a("")},children:(0,t.jsx)(g.A,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.p,{value:s,onChange:e=>a(e.target.value),placeholder:c||"Путь к изображению",className:"flex-1"}),(0,t.jsxs)(r.$,{type:"button",variant:"outline",onClick:j,disabled:d,children:[(0,t.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Заменить"]})]})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(x?"border-blue-400 bg-blue-50":"border-gray-300"),onDrop:e=>{e.preventDefault(),m(!1);let s=e.dataTransfer.files[0];s&&u(s)},onDragOver:e=>{e.preventDefault(),m(!0)},onDragLeave:e=>{e.preventDefault(),m(!1)},children:[(0,t.jsx)(N.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Перетащите изображение сюда или нажмите кнопку для выбора"}),(0,t.jsxs)(r.$,{type:"button",onClick:j,disabled:d,children:[(0,t.jsx)(v.A,{className:"w-4 h-4 mr-2"}),d?"Загружается...":"Выбрать файл"]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(n.p,{value:s,onChange:e=>a(e.target.value),placeholder:c||"Или введите URL изображения",className:"flex-1"})})]}),(0,t.jsx)("input",{ref:h,type:"file",accept:"image/*",className:"hidden",onChange:e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];a&&u(a)}})]})}var w=a(381),C=a(2919),k=a(7576),A=a(7434),S=a(5562),T=a(4788),$=a(5040),R=a(9420),Z=a(4616),J=a(4229),z=a(3717),D=a(2525);function F(){let[e,s]=(0,i.useState)(!1),[a,o]=(0,i.useState)(""),[x,g]=(0,i.useState)(!0),[v,N]=(0,i.useState)([]),[y,F]=(0,i.useState)([]),[B,E]=(0,i.useState)([]),[O,M]=(0,i.useState)([]),[U,P]=(0,i.useState)([]),[W,L]=(0,i.useState)(null),[q,_]=(0,i.useState)([]),[H,Q]=(0,i.useState)(null),[V,G]=(0,i.useState)(null),[I,Y]=(0,i.useState)(null),[K,X]=(0,i.useState)(null),[ee,es]=(0,i.useState)(null),[ea,et]=(0,i.useState)(!1);(0,i.useEffect)(()=>{ei()},[]),(0,i.useEffect)(()=>{e&&en()},[e]);let ei=async()=>{try{let e=await fetch("/api/admin/auth"),a=await e.json();s(a.authenticated)}catch(e){console.error("Ошибка проверки авторизации:",e)}g(!1)},el=async()=>{try{(await fetch("/api/admin/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a})})).ok?(s(!0),o("")):alert("Неверный пароль")}catch(e){console.error("Ошибка авторизации:",e),alert("Ошибка авторизации")}},er=async()=>{try{await fetch("/api/admin/auth",{method:"DELETE"}),s(!1)}catch(e){console.error("Ошибка выхода:",e)}},en=async()=>{try{let[e,s,a,t,i,l,r]=await Promise.all([fetch("/api/admin/services"),fetch("/api/admin/work-steps"),fetch("/api/admin/portfolio"),fetch("/api/admin/faq"),fetch("/api/admin/articles"),fetch("/api/admin/contacts"),fetch("/api/admin/callback-requests")]);N(await e.json()),F(await s.json()),E(await a.json()),M(await t.json()),P(await i.json()),L(await l.json()),_(await r.json())}catch(e){console.error("Ошибка загрузки данных:",e)}},ec=async()=>{try{await fetch("/api/admin/services",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),alert("Услуги сохранены!")}catch(e){console.error("Ошибка сохранения услуг:",e),alert("Ошибка сохранения")}},ed=async()=>{try{await fetch("/api/admin/work-steps",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),alert("Этапы работ сохранены!")}catch(e){console.error("Ошибка сохранения этапов работ:",e),alert("Ошибка сохранения")}},eo=async()=>{try{await fetch("/api/admin/portfolio",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)}),alert("Портфолио сохранено!")}catch(e){console.error("Ошибка сохранения портфолио:",e),alert("Ошибка сохранения")}},ex=async()=>{try{await fetch("/api/admin/faq",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),alert("FAQ сохранены!")}catch(e){console.error("Ошибка сохранения FAQ:",e),alert("Ошибка сохранения")}},em=async()=>{try{await fetch("/api/admin/articles",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),alert("Статьи сохранены!")}catch(e){console.error("Ошибка сохранения статей:",e),alert("Ошибка сохранения")}},eh=async()=>{if(W)try{await fetch("/api/admin/contacts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),alert("Контакты сохранены!"),et(!1)}catch(e){console.error("Ошибка сохранения контактов:",e),alert("Ошибка сохранения")}},eu=async()=>{try{await fetch("/api/admin/callback-requests",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),alert("Заявки сохранены!")}catch(e){console.error("Ошибка сохранения заявок:",e),alert("Ошибка сохранения")}},ej=e=>{confirm("Удалить услугу?")&&N(v.filter(s=>s.id!==e))},ep=e=>{confirm("Удалить этап работы?")&&F(y.filter(s=>s.id!==e))},ef=e=>{confirm("Удалить проект из портфолио?")&&E(B.filter(s=>s.id!==e))},eg=e=>{confirm("Удалить вопрос из FAQ?")&&M(O.filter(s=>s.id!==e))},ev=e=>{confirm("Удалить статью?")&&P(U.filter(s=>s.id!==e))},eN=(e,s)=>{_(q.map(a=>a.id===e?{...a,status:s}:a))},ey=e=>{confirm("Удалить заявку?")&&_(q.filter(s=>s.id!==e))},eb=e=>{switch(e){case"new":return"bg-blue-600";case"contacted":return"bg-yellow-600";case"completed":return"bg-green-600";default:return"bg-gray-600"}},ew=e=>{switch(e){case"new":return"Новая";case"contacted":return"Связались";case"completed":return"Завершена";default:return e}},eC=e=>{switch(e){case"callback":return"Обратный звонок";case"calculation":return"Расчет стоимости";default:return e}},ek=e=>{switch(e){case"callback":return"bg-blue-600";case"calculation":return"bg-purple-600";default:return"bg-gray-600"}};return x?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(w.A,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{children:"Загрузка..."})]})}):e?(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Админ-панель"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Управление контентом сайта"})]}),(0,t.jsxs)(r.$,{onClick:er,variant:"outline",className:"flex items-center gap-2 self-start sm:self-auto",children:[(0,t.jsx)(C.A,{className:"w-4 h-4"}),"Выйти"]})]})}),(0,t.jsxs)(m,{defaultValue:"services",className:"w-full",children:[(0,t.jsx)("div",{className:"overflow-x-auto mb-6",children:(0,t.jsxs)(h,{className:"grid w-full grid-cols-7 min-w-[700px] md:min-w-0",children:[(0,t.jsxs)(u,{value:"services",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[(0,t.jsx)(k.A,{className:"w-3 h-3 md:w-4 md:h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Услуги"})]}),(0,t.jsxs)(u,{value:"work-steps",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[(0,t.jsx)(A.A,{className:"w-3 h-3 md:w-4 md:h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Этапы"})]}),(0,t.jsxs)(u,{value:"portfolio",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[(0,t.jsx)(S.A,{className:"w-3 h-3 md:w-4 md:h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Портфолио"})]}),(0,t.jsxs)(u,{value:"faq",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[(0,t.jsx)(T.A,{className:"w-3 h-3 md:w-4 md:h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"FAQ"})]}),(0,t.jsxs)(u,{value:"articles",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[(0,t.jsx)($.A,{className:"w-3 h-3 md:w-4 md:h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Статьи"})]}),(0,t.jsxs)(u,{value:"contacts",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[(0,t.jsx)(R.A,{className:"w-3 h-3 md:w-4 md:h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Контакты"})]}),(0,t.jsxs)(u,{value:"callback-requests",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[(0,t.jsx)(w.A,{className:"w-3 h-3 md:w-4 md:h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Заявки"})]})]})}),(0,t.jsx)(j,{value:"services",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{children:"Услуги мини установки ГНБ"}),(0,t.jsx)(l.BT,{children:"Управление услугами компании"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-4 sm:mt-0",children:[(0,t.jsxs)(r.$,{onClick:()=>{Q({id:Date.now().toString(),title:"",description:"",image:"",price:"",diameter:"",features:[]})},size:"sm",children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 mr-2"}),"Добавить"]}),(0,t.jsxs)(r.$,{onClick:ec,variant:"outline",size:"sm",children:[(0,t.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Сохранить"]})]})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"grid gap-4",children:v.map(e=>(0,t.jsx)(l.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(d.E,{children:e.diameter}),(0,t.jsx)(d.E,{variant:"outline",children:e.price})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 self-end md:self-start",children:[(0,t.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>Q(e),children:(0,t.jsx)(z.A,{className:"w-4 h-4"})}),(0,t.jsx)(r.$,{size:"sm",variant:"destructive",onClick:()=>ej(e.id),children:(0,t.jsx)(D.A,{className:"w-4 h-4"})})]})]})},e.id))})})]})}),(0,t.jsx)(j,{value:"work-steps",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{children:"Этапы работ мини установкой ГНБ"}),(0,t.jsx)(l.BT,{children:"Управление этапами выполнения работ"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.$,{onClick:()=>{G({id:Date.now().toString(),step:(y.length+1).toString().padStart(2,"0"),title:"",description:""})},children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 mr-2"}),"Добавить этап"]}),(0,t.jsxs)(r.$,{onClick:ed,variant:"outline",children:[(0,t.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]})]})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"grid gap-4",children:y.map(e=>(0,t.jsx)(l.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1 flex gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:e.step}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>G(e),children:(0,t.jsx)(z.A,{className:"w-4 h-4"})}),(0,t.jsx)(r.$,{size:"sm",variant:"destructive",onClick:()=>ep(e.id),children:(0,t.jsx)(D.A,{className:"w-4 h-4"})})]})]})},e.id))})})]})}),(0,t.jsx)(j,{value:"portfolio",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{children:"Примеры проколов мини установкой ГНБ"}),(0,t.jsx)(l.BT,{children:"Управление проектами в портфолио"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.$,{onClick:()=>{Y({id:Date.now().toString(),title:"",description:"",image:"",specs:""})},children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 mr-2"}),"Добавить проект"]}),(0,t.jsxs)(r.$,{onClick:eo,variant:"outline",children:[(0,t.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]})]})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"grid gap-4",children:B.map(e=>(0,t.jsx)(l.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,t.jsx)(d.E,{className:"mt-2",children:e.specs})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>Y(e),children:(0,t.jsx)(z.A,{className:"w-4 h-4"})}),(0,t.jsx)(r.$,{size:"sm",variant:"destructive",onClick:()=>ef(e.id),children:(0,t.jsx)(D.A,{className:"w-4 h-4"})})]})]})},e.id))})})]})}),(0,t.jsx)(j,{value:"faq",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{children:"Вопросы о мини установке ГНБ"}),(0,t.jsx)(l.BT,{children:"Управление часто задаваемыми вопросами"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.$,{onClick:()=>{X({id:Date.now().toString(),question:"",answer:""})},children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 mr-2"}),"Добавить вопрос"]}),(0,t.jsxs)(r.$,{onClick:ex,variant:"outline",children:[(0,t.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]})]})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"grid gap-4",children:O.map(e=>(0,t.jsx)(l.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.question}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.answer})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>X(e),children:(0,t.jsx)(z.A,{className:"w-4 h-4"})}),(0,t.jsx)(r.$,{size:"sm",variant:"destructive",onClick:()=>eg(e.id),children:(0,t.jsx)(D.A,{className:"w-4 h-4"})})]})]})},e.id))})})]})}),(0,t.jsx)(j,{value:"articles",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{children:"Статьи о ГНБ технологиях"}),(0,t.jsx)(l.BT,{children:"Управление статьями и материалами сайта"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.$,{onClick:()=>{es({id:Date.now().toString(),title:"",description:"",content:"",image:"",category:"",readTime:"",publishedAt:new Date().toISOString().split("T")[0],slug:""})},children:[(0,t.jsx)(Z.A,{className:"w-4 h-4 mr-2"}),"Добавить статью"]}),(0,t.jsxs)(r.$,{onClick:em,variant:"outline",children:[(0,t.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]})]})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"grid gap-4",children:U.map(e=>(0,t.jsx)(l.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(d.E,{children:e.category}),(0,t.jsx)(d.E,{variant:"outline",children:e.readTime}),(0,t.jsx)(d.E,{variant:"secondary",children:new Date(e.publishedAt).toLocaleDateString("ru-RU")})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>es(e),children:(0,t.jsx)(z.A,{className:"w-4 h-4"})}),(0,t.jsx)(r.$,{size:"sm",variant:"destructive",onClick:()=>ev(e.id),children:(0,t.jsx)(D.A,{className:"w-4 h-4"})})]})]})},e.id))})})]})}),(0,t.jsx)(j,{value:"contacts",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{children:"Контакты и информация о компании"}),(0,t.jsx)(l.BT,{children:"Управление контактной информацией на сайте"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.$,{onClick:()=>et(!0),disabled:!W,children:[(0,t.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"Редактировать"]}),(0,t.jsxs)(r.$,{onClick:eh,variant:"outline",disabled:!W,children:[(0,t.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]})]})]}),(0,t.jsx)(l.Wu,{children:W&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zp,{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Основная информация"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Название компании:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.companyName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Телефон:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Email:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Режим работы:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.workingHours})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("strong",{children:"Адрес:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.address})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("strong",{children:"Описание:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.companyDescription})]})]})]}),(0,t.jsxs)(l.Zp,{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Социальные сети"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Telegram:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.socialMedia.telegram||"Не указан"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"WhatsApp:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.socialMedia.whatsapp||"Не указан"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"ВКонтакте:"}),(0,t.jsx)("p",{className:"text-gray-600",children:W.socialMedia.vk||"Не указан"})]})]})]})]})})]})}),(0,t.jsx)(j,{value:"callback-requests",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{children:"Заявки на обратный звонок"}),(0,t.jsx)(l.BT,{children:"Управление заявками от клиентов"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(r.$,{onClick:eu,variant:"outline",children:[(0,t.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]})})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:0===q.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(R.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("p",{children:"Заявок пока нет"})]}):q.map(e=>(0,t.jsx)(l.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.name}),(0,t.jsx)(d.E,{className:"".concat(ek(e.type)," text-white"),children:eC(e.type)}),(0,t.jsx)(d.E,{className:"".concat(eb(e.status)," text-white"),children:ew(e.status)})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 inline mr-1"}),e.phone]}),e.message&&(0,t.jsxs)("p",{className:"text-sm text-gray-700 mb-2",children:[(0,t.jsx)("strong",{children:"Комментарий:"})," ",e.message]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleString("ru-RU")})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("select",{value:e.status,onChange:s=>eN(e.id,s.target.value),className:"text-sm border rounded px-2 py-1",children:[(0,t.jsx)("option",{value:"new",children:"Новая"}),(0,t.jsx)("option",{value:"contacted",children:"Связались"}),(0,t.jsx)("option",{value:"completed",children:"Завершена"})]}),(0,t.jsx)(r.$,{size:"sm",variant:"destructive",onClick:()=>ey(e.id),children:(0,t.jsx)(D.A,{className:"w-4 h-4"})})]})]})},e.id))})})]})})]}),(0,t.jsx)(p.lG,{open:null!==H,onOpenChange:()=>Q(null),children:(0,t.jsxs)(p.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto mx-4",children:[(0,t.jsx)(p.c7,{children:(0,t.jsx)(p.L3,{children:(null==H?void 0:H.title)?"Редактировать услугу":"Добавить услугу"})}),H&&(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"service-title",children:"Название услуги"}),(0,t.jsx)(n.p,{id:"service-title",value:H.title,onChange:e=>Q({...H,title:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"service-description",children:"Описание"}),(0,t.jsx)(c.T,{id:"service-description",value:H.description,onChange:e=>Q({...H,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"service-price",children:"Цена"}),(0,t.jsx)(n.p,{id:"service-price",value:H.price,onChange:e=>Q({...H,price:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"service-diameter",children:"Диаметр"}),(0,t.jsx)(n.p,{id:"service-diameter",value:H.diameter,onChange:e=>Q({...H,diameter:e.target.value})})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(b,{label:"Изображение услуги",value:H.image,onChange:e=>Q({...H,image:e}),placeholder:"Путь к изображению или загрузите файл"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"service-features",children:"Особенности (по одной на строку)"}),(0,t.jsx)(c.T,{id:"service-features",value:H.features.join("\n"),onChange:e=>Q({...H,features:e.target.value.split("\n").filter(e=>e.trim())})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsx)(r.$,{onClick:()=>{H&&(v.find(e=>e.id===H.id)?N(v.map(e=>e.id===H.id?H:e)):N([...v,H]),Q(null))},className:"flex-1",children:"Сохранить"}),(0,t.jsx)(r.$,{variant:"outline",onClick:()=>Q(null),className:"flex-1",children:"Отмена"})]})]})]})}),(0,t.jsx)(p.lG,{open:ea,onOpenChange:et,children:(0,t.jsxs)(p.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto mx-4",children:[(0,t.jsx)(p.c7,{children:(0,t.jsx)(p.L3,{children:"Редактировать контактную информацию"})}),W&&(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"company-name",children:"Название компании"}),(0,t.jsx)(n.p,{id:"company-name",value:W.companyName,onChange:e=>L({...W,companyName:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"company-description",children:"Описание компании"}),(0,t.jsx)(c.T,{id:"company-description",value:W.companyDescription,onChange:e=>L({...W,companyDescription:e.target.value}),rows:3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"phone",children:"Телефон"}),(0,t.jsx)(n.p,{id:"phone",value:W.phone,onChange:e=>L({...W,phone:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(n.p,{id:"email",type:"email",value:W.email,onChange:e=>L({...W,email:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"address",children:"Адрес"}),(0,t.jsx)(n.p,{id:"address",value:W.address,onChange:e=>L({...W,address:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"working-hours",children:"Режим работы"}),(0,t.jsx)(n.p,{id:"working-hours",value:W.workingHours,onChange:e=>L({...W,workingHours:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Социальные сети"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"telegram",children:"Telegram"}),(0,t.jsx)(n.p,{id:"telegram",value:W.socialMedia.telegram||"",onChange:e=>L({...W,socialMedia:{...W.socialMedia,telegram:e.target.value}}),placeholder:"@username или ссылка"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"whatsapp",children:"WhatsApp"}),(0,t.jsx)(n.p,{id:"whatsapp",value:W.socialMedia.whatsapp||"",onChange:e=>L({...W,socialMedia:{...W.socialMedia,whatsapp:e.target.value}}),placeholder:"+7 (xxx) xxx-xx-xx"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.J,{htmlFor:"vk",children:"ВКонтакте"}),(0,t.jsx)(n.p,{id:"vk",value:W.socialMedia.vk||"",onChange:e=>L({...W,socialMedia:{...W.socialMedia,vk:e.target.value}}),placeholder:"Ссылка на группу или профиль"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsx)(r.$,{onClick:eh,className:"flex-1",children:"Сохранить"}),(0,t.jsx)(r.$,{variant:"outline",onClick:()=>et(!1),className:"flex-1",children:"Отмена"})]})]})]})})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsxs)(l.Zp,{className:"w-96",children:[(0,t.jsxs)(l.aR,{className:"text-center",children:[(0,t.jsx)(C.A,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),(0,t.jsx)(l.ZB,{children:"Админ-панель ГНБ-Эксперт"}),(0,t.jsx)(l.BT,{children:"Введите пароль для доступа"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.p,{type:"password",placeholder:"Пароль",value:a,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&el()}),(0,t.jsx)(r.$,{onClick:el,className:"w-full",children:"Войти"})]})})]})})}},2714:(e,s,a)=>{"use strict";a.d(s,{J:()=>d});var t=a(5155),i=a(2115),l=a(968),r=a(2085),n=a(3999);let c=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,n.cn)(c(),a),...i})});d.displayName=l.b.displayName},3999:(e,s,a)=>{"use strict";a.d(s,{cn:()=>l});var t=a(2596),i=a(9688);function l(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,i.QP)((0,t.$)(s))}},4178:(e,s,a)=>{Promise.resolve().then(a.bind(a,1949))},7168:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var t=a(5155),i=a(2115),l=a(9708),r=a(2085),n=a(3999);let c=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,s)=>{let{className:a,variant:i,size:r,asChild:d=!1,...o}=e,x=d?l.DX:"button";return(0,t.jsx)(x,{className:(0,n.cn)(c({variant:i,size:r,className:a})),ref:s,...o})});d.displayName="Button"},8145:(e,s,a)=>{"use strict";a.d(s,{E:()=>n});var t=a(5155);a(2115);var i=a(2085),l=a(3999);let r=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:a,...i}=e;return(0,t.jsx)("div",{className:(0,l.cn)(r({variant:a}),s),...i})}},8482:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>r,aR:()=>n});var t=a(5155),i=a(2115),l=a(3999);let r=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});r.displayName="Card";let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...i})});n.displayName="CardHeader";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});c.displayName="CardTitle";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...i})});d.displayName="CardDescription";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...i})});o.displayName="CardContent",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"},9474:(e,s,a)=>{"use strict";a.d(s,{T:()=>r});var t=a(5155),i=a(2115),l=a(3999);let r=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});r.displayName="Textarea"},9840:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>m,L3:()=>u,c7:()=>h,lG:()=>c,rr:()=>j,zM:()=>d});var t=a(5155),i=a(2115),l=a(3470),r=a(4416),n=a(3999);let c=l.bL,d=l.l9,o=l.ZL;l.bm;let x=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...i})});x.displayName=l.hJ.displayName;let m=i.forwardRef((e,s)=>{let{className:a,children:i,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(x,{}),(0,t.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[i,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(r.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};h.displayName="DialogHeader";let u=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...i})});u.displayName=l.hE.displayName;let j=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...i})});j.displayName=l.VY.displayName},9852:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(5155),i=a(2115),l=a(3999);let r=i.forwardRef((e,s)=>{let{className:a,type:i,...r}=e;return(0,t.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});r.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[631,958,470,441,684,358],()=>s(4178)),_N_E=e.O()}]);